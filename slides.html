<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting-956927e86c41ce4880e87387fca38fc6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="slides_files/libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="slides_files/libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.13">

  <meta name="author" content="Jadey Ryan // October 29, 2025 R-Ladies St.&nbsp;Louis">
  <title>Efficient File Management in R with {fs} </title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto-21892b71f26d439fd8a5eb102eb52136.css">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-pointer/pointer.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Efficient File Management in R with {fs}<br><img data-src="images/witchy-jr-cat-fs.png" style="width:5em"></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jadey Ryan // October 29, 2025<br>R-Ladies St.&nbsp;Louis 
</div>
</div>
</div>

</section>
<section id="jadey-ryan" class="slide level2">
<h2>Jadey Ryan</h2>
<div class="columns">
<div class="column" style="width:44%;">
<p>Data scientist at <a href="https://agr.wa.gov/agscience">WA Dept of Agriculture</a></p>
<p><a href="https://thecodingcats.etsy.com/">The Coding Cats</a>: cat &amp; code themed merch</p>
<p><i class="fa-solid fa-link fa-xl" aria-label="link"></i> <a href="https://jadeyryan.com">jadeyryan.com</a></p>
<p><i class="fa-brands fa-bluesky fa-xl" aria-label="bluesky"></i> <a href="https://bsky.app/profile/jadeynryan.bsky.social">@jadeynryan</a></p>
<p><i class="fa-brands fa-mastodon fa-xl" aria-label="mastodon"></i> <a href="https://fosstodon.org/@jadeynryan">@jadeynryan</a></p>
<p><i class="fa-brands fa-linkedin fa-xl" aria-label="linkedin"></i> <a href="https://www.linkedin.com/in/jadey-ryan">linkedin.com/in/jadey-ryan</a></p>
<p><i class="fa-brands fa-github fa-xl" aria-label="github"></i> <a href="https://github.com/jadeynryan/">jadeynryan</a></p>
<p><i class="fa-brands fa-etsy fa-xl" aria-label="etsy"></i> <a href="https://thecodingcats.etsy.com/">thecodingcats.etsy.com</a></p>
<p><img data-src="images/mts.webp" style="border-radius:1em;margin-top:auto" alt="Three snowshoe siamese cats in loaf mode. From left to right: Tai, Mai, and Skye"></p>
</div><div class="column" style="width:28%;">
<p><img data-src="images/bulk-density.jpg" style="border-radius:1em;margin-top:auto" alt="Jadey collecting a bulk density soil sample in a field of wheat stubble."></p>
</div><div class="column" style="width:28%;">
<div>

</div>
<div class="quarto-layout-panel" data-layout-nrow="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img data-src="images/soil-sampling.jpg" style="border-radius:1em;margin-top:auto" alt="Jadey standing in a field of wheat stubble holding a 3 foot long soil sampling probe over her shoulder."></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img data-src="images/rangeland.jpg" style="border-radius:1em;margin-top:auto" alt="Jadey standing in a grazed wildflower meadow with two colleagues collecting soil samples."></p>
</div>
</div>
</div>
<p><i class="fa-solid fa-camera" title="Photo credit" aria-label="camera"></i> <a href="https://twitter.com/leslie_mmichel"><span class="citation" data-cites="leslie.mmichel">@leslie.mmichel</span></a></p>
</div></div>
</section>
<section id="context-setting" class="slide level2">
<h2>Context setting</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="images/documents-xkcd.png" style="height:20em" alt="xkcdc omic of person standing behind another person looking at their documents folder on their computer saying 'Oh my god.'. The documents folder has hundreds of untitled documents."></p>
</div><div class="column" style="width:50%;">
<p><img data-src="images/final-phd-comics.gif" alt="PhD comic with panels showing the back and forth of a person revising a document with their adviser contually marking up each draft, while each draft is suffixed with final, revision, comments, and corrections."></p>
</div></div>
</section>
<section id="whats-wrong-with-this-folder" class="slide level2">
<h2>What’s wrong with this folder?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">source</span>(<span class="st">"demo/generate-spooky-folder.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky-folder
├── Data
│   ├── ghost-viz.R
│   ├── Pumpkin-Stats.CSV
│   ├── skeletonReport.doc
│   ├── skeletonReport.qmd
│   ├── vampireBATS.txt
│   └── WITCH_list.docx
├── images
│   └── witchCauldron.png
├── Misc Files
│   └── BlackCats.png
├── misc-files
├── R
│   ├── ghost data (final) v2.CSV
│   ├── haunted_house.xlsx
│   └── untitled 10 31.R
└── REPORTS
    ├── ghost data (final).CSV
    └── ghost data.csv</code></pre>
</div>
</div>
</section>
<section id="whats-wrong-with-this-folder-1" class="slide level2" data-background-color="black" data-background-image="https://images.unsplash.com/photo-1730033737735-44c75ffc665a?ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;q=80&amp;w=1169" data-background-opacity="0.4">
<h2>What’s wrong with this folder?</h2>
<div style="font-size:1.8em">
<ul>
<li class="fragment">Inconsistent capitalization</li>
<li class="fragment">Inconsistent use of delimiters (e.g., spaces, hyphens, underscores)</li>
<li class="fragment">File extensions don’t match their subfolder</li>
<li class="fragment">Difficult to know which is <em>actually</em> the final version</li>
</ul>
</div>
</section>
<section id="woes-of-inconsistent-poorly-named-files" class="slide level2" data-background-color="black" data-background-image="https://images.unsplash.com/photo-1472496175377-b5d7625d4ba9?ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;q=80&amp;w=2080" data-background-opacity="0.4">
<h2>Woes of inconsistent, poorly named files</h2>
<div style="font-size:1.8em">
<ul>
<li class="fragment">Hard to find what you need when you need it</li>
<li class="fragment">Can break scripts and analysis pipelines</li>
<li class="fragment">Nightmare for collaborators and your future self</li>
<li class="fragment">Errors from using outdated versions</li>
<li class="fragment">Wastes time and energy</li>
</ul>
</div>
</section>
<section id="meet-fs" class="slide level2">
<h2>Meet {fs}</h2>
<div class="columns">
<div class="column" style="width:80%;">
<div style="font-size:1.8em">
<ul>
<li class="fragment">File system operations (e.g., create, rename, move, delete)</li>
<li class="fragment">Works on multiple operating systems</li>
<li class="fragment">Inspired by Rust’s <a href="https://doc.rust-lang.org/std/fs/index.html">fs module</a></li>
<li class="fragment"><a href="https://fs.r-lib.org/">{fs} pkgdown site</a></li>
</ul>
</div>
</div><div class="column" style="width:20%;">
<p><img data-src="https://fs.r-lib.org/logo.png" alt="fs R package logo"></p>
</div></div>
</section>
<section>
<section id="the-basics" class="title-slide slide level1 section center">
<h1>The basics</h1>

</section>
<section id="fs-functions" class="slide level2" data-background-color="black" data-background-image="https://images.unsplash.com/photo-1667168335262-7c273e602e0f?ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;q=80&amp;w=1204" data-background-opacity="0.3">
<h2>{fs} functions</h2>
<div style="font-size:1.8em">
<ul>
<li class="fragment">Consistent syntax with four main categories
<ol type="1">
<li class="fragment"><code>path_</code> for manipulating and constructing paths</li>
<li class="fragment"><code>file_</code> for files</li>
<li class="fragment"><code>dir_</code> for directories</li>
<li class="fragment"><code>link_</code> for links</li>
</ol></li>
<li class="fragment"><a href="https://fs.r-lib.org/reference/index.html">{fs} function reference</a></li>
</ul>
</div>
<aside class="notes">
<ul>
<li>Directories are like file cabinets that hold folders and files.</li>
<li>Links are references to other files or directories.</li>
<li>Directories and links are special kinds of files, so <code>file_</code> functions will generally work with them.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="fs-vs-base-r" class="slide level2">
<h2>{fs} vs base R</h2>
<table class="caption-top">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>{fs}</th>
<th>Base R</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vectorized (accept multiple paths as input)</td>
<td>Inconsistently vectorized</td>
</tr>
<tr class="even">
<td>Predictable return values that convey a path</td>
<td>Sometimes are logical and sometimes have error codes</td>
</tr>
<tr class="odd">
<td>Consistent verb function names (<code>file_exist()</code> and <code>file_show()</code>)</td>
<td>Different naming conventions (e.g., <code>file.exist()</code> and <code>browseURL()</code>)</td>
</tr>
<tr class="even">
<td>Throws an error if an operation fails</td>
<td>Sometimes will only generate a warning and OS dependent error code</td>
</tr>
</tbody>
</table>
<p><br></p>
<div class="fragment">
<p>{fs} is more consistent and intuitive.</p>
</div>
<div class="fragment">
<p>For more details, see <a href="https://fs.r-lib.org/articles/function-comparisons.html"><em>Comparison of fs functions, base R, and shell commands</em> article</a>.</p>
</div>
</section>
<section id="get-started" class="slide level2">
<h2>Get started</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="co"># install.packages("fs")</span></span>
<span id="cb3-2"><a href=""></a><span class="fu">library</span>(<span class="st">"fs"</span>)</span>
<span id="cb3-3"><a href=""></a><span class="fu">dir_tree</span>(<span class="at">recurse =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
├── demo
│   ├── generate-spooky-folder.R
│   ├── other-scary-analysis
│   │   ├── data
│   │   ├── images
│   │   ├── output
│   │   ├── reports
│   │   └── src
│   ├── scary-analysis
│   │   ├── data
│   │   ├── images
│   │   ├── output
│   │   ├── reports
│   │   └── src
│   ├── spooky-folder
│   │   ├── Data
│   │   ├── images
│   │   ├── Misc Files
│   │   ├── misc-files
│   │   ├── R
│   │   └── REPORTS
│   └── spooky_folder
│       ├── data
│       ├── images
│       ├── misc_files
│       ├── R
│       └── reports
├── fs-rladies-sl.Rproj
├── images
│   ├── bulk-density.jpg
│   ├── documents-xkcd.png
│   ├── final-phd-comics.gif
│   ├── mts.jpg
│   ├── mts.webp
│   ├── rangeland.jpg
│   ├── soil-sampling.jpg
│   └── witchy-jr-cat-fs.png
├── README.md
├── slides.html
├── slides.qmd
├── slides.rmarkdown
├── slides.scss
├── slides_files
│   └── libs
│       ├── clipboard
│       ├── quarto-contrib
│       ├── quarto-html
│       └── revealjs
├── _extensions
│   └── quarto-ext
│       ├── fontawesome
│       └── pointer
└── _publish.yml</code></pre>
</div>
</div>
</section>
<section id="constructing-file-paths" class="slide level2">
<h2>Constructing file paths</h2>
<div>
<ul>
<li>Straight-forward concatenation with the right separator to work across operating systems!
<ul>
<li>Windows: C:\Users\username\Documents\file.txt</li>
<li>macOS: /Users/username/Documents/file.txt</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><strong>Construct a path with the right separator</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>path <span class="ot">&lt;-</span> <span class="fu">path</span>(<span class="st">"halloween"</span>, <span class="st">"images"</span>, <span class="st">"spooky-cat"</span>, <span class="at">ext =</span> <span class="st">"png"</span>)</span>
<span id="cb5-2"><a href=""></a>path</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>halloween/images/spooky-cat.png</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><strong>Special <code>fs_path</code> class</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">class</span>(path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "fs_path"   "character"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><strong>Constructed path is relative to working directory</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="fu">path_abs</span>(path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>C:/Users/jryan/Documents/R/projects/fs-rladies-sl/halloween/images/spooky-cat.png</code></pre>
</div>
</div>
</div>
</section>
<section id="check-for-existence" class="slide level2">
<h2>Check for existence</h2>
<p><strong>Check if spooky-cat.png exists</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">file_exists</span>(path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>halloween/images/spooky-cat.png 
                          FALSE </code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<p><strong>Create a path to an existing image</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>real_path <span class="ot">&lt;-</span> <span class="fu">path</span>(<span class="st">"images"</span>, <span class="st">"mts.webp"</span>)</span>
<span id="cb13-2"><a href=""></a><span class="fu">file_exists</span>(real_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>images/mts.webp 
           TRUE </code></pre>
</div>
</div>
<p><br></p>
</div>
<div class="fragment">
<p><strong>Open the image</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="fu">file_show</span>(real_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="create-move-copy-delete" class="slide level2">
<h2>Create, move, copy, delete</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Action</th>
<th>Function</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Create*</td>
<td><code>file_create()</code></td>
<td>Create a new file</td>
</tr>
<tr class="even">
<td>Copy*</td>
<td><code>file_copy()</code></td>
<td>Copy a file</td>
</tr>
<tr class="odd">
<td>Move</td>
<td><code>file_move()</code></td>
<td>Move or rename a file</td>
</tr>
<tr class="even">
<td>Delete*</td>
<td><code>file_delete()</code></td>
<td>Delete a file</td>
</tr>
</tbody>
</table>
<p>*These also work with <code>dir_</code> and <code>link_</code> prefixes</p>
</section>
<section id="create" class="slide level2">
<h2>Create</h2>
<p><strong>Create root directory</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a>root <span class="ot">&lt;-</span> <span class="fu">path</span>(<span class="st">"demo"</span>, <span class="st">"scary-analysis"</span>)</span>
<span id="cb16-2"><a href=""></a><span class="fu">dir_create</span>(<span class="st">"demo"</span>, <span class="st">"scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<p><strong>Set up sub-directories</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a>subdirs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"R"</span>, <span class="st">"data/raw"</span>, <span class="st">"data/processed"</span>, <span class="st">"output"</span>, <span class="st">"reports"</span>, <span class="st">"images"</span>)</span>
<span id="cb17-2"><a href=""></a><span class="fu">dir_create</span>(root, subdirs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
</div>
<div class="fragment">
<p><strong>Create files</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a>scripts <span class="ot">&lt;-</span> <span class="fu">path</span>(root,</span>
<span id="cb18-2"><a href=""></a>                <span class="st">"R"</span>,</span>
<span id="cb18-3"><a href=""></a>                <span class="fu">c</span>(<span class="st">"01-load-data.R"</span>, <span class="st">"02-wrangle-data.R"</span>, <span class="st">"03-model.R"</span>, <span class="st">"04-visualization.R"</span>))</span>
<span id="cb18-4"><a href=""></a></span>
<span id="cb18-5"><a href=""></a><span class="fu">file_create</span>(scripts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="create-results" class="slide level2">
<h2>Create results</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/scary-analysis/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/scary-analysis/
├── data
│   ├── processed
│   └── raw
├── images
├── output
├── R
│   ├── 01-load-data.R
│   ├── 02-wrangle-data.R
│   ├── 03-model.R
│   └── 04-visualization.R
└── reports</code></pre>
</div>
</div>
</section>
<section id="copy" class="slide level2">
<h2>Copy</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="fu">dir_copy</span>(<span class="at">path =</span> <span class="st">"demo/scary-analysis"</span>, </span>
<span id="cb21-2"><a href=""></a>         <span class="at">new_path =</span> <span class="st">"demo/other-scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/scary-analysis
├── data
│   ├── processed
│   └── raw
├── images
├── output
├── R
│   ├── 01-load-data.R
│   ├── 02-wrangle-data.R
│   ├── 03-model.R
│   └── 04-visualization.R
└── reports</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/other-scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/other-scary-analysis
├── data
│   ├── processed
│   └── raw
├── images
├── output
├── R
│   ├── 01-load-data.R
│   ├── 02-wrangle-data.R
│   ├── 03-model.R
│   └── 04-visualization.R
└── reports</code></pre>
</div>
</div>
</div></div>
</section>
<section id="copy-safely" class="slide level2">
<h2>Copy safely</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a><span class="fu">file_copy</span>(<span class="st">"demo/scary-analysis/R/01-load-data.R"</span>,</span>
<span id="cb26-2"><a href=""></a>          <span class="st">"demo/other-scary-analysis/R/01-load-data.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: [EEXIST] Failed to copy 'demo/scary-analysis/R/01-load-data.R' to 'demo/other-scary-analysis/R/01-load-data.R': file already exists</code></pre>
</div>
</div>
</section>
<section id="move" class="slide level2">
<h2>Move</h2>
<p><strong>Create a new folder to move scripts into</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="fu">dir_create</span>(<span class="st">"demo/scary-analysis/src"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<p><strong>List all scripts in R folder</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a>scripts <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/scary-analysis/R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
</div>
<div class="fragment">
<p><strong>Move the scripts into the new src folder</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a><span class="fu">file_move</span>(<span class="at">path =</span> scripts, <span class="at">new_path =</span> <span class="st">"demo/scary-analysis/src"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="move-results" class="slide level2">
<h2>Move results</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/scary-analysis
├── data
│   ├── processed
│   └── raw
├── images
├── output
├── R
├── reports
└── src
    ├── 01-load-data.R
    ├── 02-wrangle-data.R
    ├── 03-model.R
    └── 04-visualization.R</code></pre>
</div>
</div>
</section>
<section id="rename-with-move" class="slide level2">
<h2>Rename with move</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="fu">file_move</span>(<span class="at">path =</span> <span class="st">"demo/other-scary-analysis/R"</span>,</span>
<span id="cb33-2"><a href=""></a>          <span class="at">new_path =</span> <span class="st">"demo/other-scary-analysis/src"</span>)</span>
<span id="cb33-3"><a href=""></a></span>
<span id="cb33-4"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/other-scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/other-scary-analysis
├── data
│   ├── processed
│   └── raw
├── images
├── output
├── reports
└── src
    ├── 01-load-data.R
    ├── 02-wrangle-data.R
    ├── 03-model.R
    └── 04-visualization.R</code></pre>
</div>
</div>
</section>
<section id="delete" class="slide level2">
<h2>Delete</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a><span class="fu">dir_delete</span>(<span class="st">"demo/scary-analysis/R"</span>)</span>
<span id="cb35-2"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/scary-analysis"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/scary-analysis
├── data
│   ├── processed
│   └── raw
├── images
├── output
├── reports
└── src
    ├── 01-load-data.R
    ├── 02-wrangle-data.R
    ├── 03-model.R
    └── 04-visualization.R</code></pre>
</div>
</div>
</section></section>
<section>
<section id="clean-up-a-messy-folder" class="title-slide slide level1 section center">
<h1>Clean up a messy folder</h1>

</section>
<section id="revisit-our-spooky-folder" class="slide level2">
<h2>Revisit our spooky folder</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/spooky-folder/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky-folder/
├── Data
│   ├── ghost-viz.R
│   ├── Pumpkin-Stats.CSV
│   ├── skeletonReport.doc
│   ├── skeletonReport.qmd
│   ├── vampireBATS.txt
│   └── WITCH_list.docx
├── images
│   └── witchCauldron.png
├── Misc Files
│   └── BlackCats.png
├── misc-files
├── R
│   ├── ghost data (final) v2.CSV
│   ├── haunted_house.xlsx
│   └── untitled 10 31.R
└── REPORTS
    ├── ghost data (final).CSV
    └── ghost data.csv</code></pre>
</div>
</div>
</section>
<section id="naming-conventions" class="slide level2">
<h2>Naming conventions</h2>

<img data-src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/dbb99049-2916-4bc8-824f-1816f5c4f06d_rw_1920.png?h=f0b45a30ba31ad414562d1085cd6c172" alt="Cartoon representations of common cases in coding. A snake screams &quot;SCREAMING_SNAKE_CASE&quot; into the face of a camel (wearing ear muffs) with &quot;camelCase&quot; written along its back. Vegetables on a skewer spell out &quot;kebab-case&quot; (words on a skewer). A mellow, happy looking snake has text &quot;snake_case&quot; along it." class="r-stretch quarto-figure-center"><p class="caption">Artwork by <a href="https://allisonhorst.com/">Allison Horst</a></p></section>
<section id="meet-janitor" class="slide level2">
<h2>Meet {janitor}</h2>

<img data-src="https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/79a12c01-0cc1-4643-b1e7-8ce8cafc947b_rw_1920.png?h=a3760f3882e735d7065627fc060714ce" alt="Title text: “janitor::clean_names(): convert all column names to *_case!” Below, a cartoon beaver putting shapes with long, messy column names (pulled from a bin labeled “MESS” and “not so awesome column names”) into a contraption that converts them to lower snake case. The output has stylized text reading “Way more deal-withable column names.” Learn more about clean_names and other *awesome* data cleaning tools in janitor." class="r-stretch quarto-figure-center"><p class="caption">Artwork by <a href="https://allisonhorst.com/">Allison Horst</a></p></section>
<section id="fs-meets-janitor" class="slide level2">
<h2>{fs} meets {janitor}</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href=""></a>files_old <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky-folder/"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb39-2"><a href=""></a>files_new <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">make_clean_names</span>(files_old, <span class="at">case =</span> <span class="st">"snake"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>You could just use {stringr} for cleaning, but {janitor} is more comprehensive. See the <a href="https://sfirke.github.io/janitor/reference/make_clean_names.html"><code>make_clean_names()</code> docs</a>.</p>
<p>Arguments that might come in handy: <code>case</code>, <code>replace</code>, <code>parsing_option</code>, <code>abbreviations</code>, <code>sep_out</code>.</p>
</div>
</div>
</div>
</section>
<section id="always-check-files-before-renaming" class="slide level2">
<h2>Always check files before renaming!</h2>
<p>Uh oh – the directory separators and extensions were lost!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a>files_old</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky-folder/Data
demo/spooky-folder/Data/ghost-viz.R
demo/spooky-folder/Data/Pumpkin-Stats.CSV
demo/spooky-folder/Data/skeletonReport.doc
demo/spooky-folder/Data/skeletonReport.qmd
demo/spooky-folder/Data/vampireBATS.txt
demo/spooky-folder/Data/WITCH_list.docx
demo/spooky-folder/images
demo/spooky-folder/images/witchCauldron.png
demo/spooky-folder/Misc Files
demo/spooky-folder/Misc Files/BlackCats.png
demo/spooky-folder/misc-files
demo/spooky-folder/R
demo/spooky-folder/R/ghost data (final) v2.CSV
demo/spooky-folder/R/haunted_house.xlsx
demo/spooky-folder/R/untitled 10 31.R
demo/spooky-folder/REPORTS
demo/spooky-folder/REPORTS/ghost data (final).CSV
demo/spooky-folder/REPORTS/ghost data.csv</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a>files_new</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "demo_spooky_folder_data"                        
 [2] "demo_spooky_folder_data_ghost_viz_r"            
 [3] "demo_spooky_folder_data_pumpkin_stats_csv"      
 [4] "demo_spooky_folder_data_skeleton_report_doc"    
 [5] "demo_spooky_folder_data_skeleton_report_qmd"    
 [6] "demo_spooky_folder_data_vampire_bats_txt"       
 [7] "demo_spooky_folder_data_witch_list_docx"        
 [8] "demo_spooky_folder_images"                      
 [9] "demo_spooky_folder_images_witch_cauldron_png"   
[10] "demo_spooky_folder_misc_files"                  
[11] "demo_spooky_folder_misc_files_black_cats_png"   
[12] "demo_spooky_folder_misc_files_2"                
[13] "demo_spooky_folder_r"                           
[14] "demo_spooky_folder_r_ghost_data_final_v2_csv"   
[15] "demo_spooky_folder_r_haunted_house_xlsx"        
[16] "demo_spooky_folder_r_untitled_10_31_r"          
[17] "demo_spooky_folder_reports"                     
[18] "demo_spooky_folder_reports_ghost_data_final_csv"
[19] "demo_spooky_folder_reports_ghost_data_csv"      </code></pre>
</div>
</div>
</div></div>
</section>
<section id="split-clean-and-reconstruct" class="slide level2">
<h2>Split, clean, and reconstruct</h2>
<p><strong>Split directory, name, and extension</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a>paths <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky-folder/"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-2"><a href=""></a>parts <span class="ot">&lt;-</span> <span class="fu">path_split</span>(paths)</span>
<span id="cb44-3"><a href=""></a>parts[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "demo"          "spooky-folder" "Data"         

[[2]]
[1] "demo"          "spooky-folder" "Data"          "ghost-viz.R"  

[[3]]
[1] "demo"              "spooky-folder"     "Data"             
[4] "Pumpkin-Stats.CSV"</code></pre>
</div>
</div>
<div class="fragment">
<p><strong>Clean with {janitor}</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href=""></a>parts_clean <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(parts, \(part) janitor<span class="sc">::</span><span class="fu">make_clean_names</span>(part, <span class="at">case =</span> <span class="st">"snake"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p><strong>Reconstruct</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href=""></a>paths_clean <span class="ot">&lt;-</span> <span class="fu">path_join</span>(parts_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="always-check-files-before-renaming-1" class="slide level2">
<h2>Always check files before renaming!</h2>
<p>Uh oh – the directory separators are maintained, but the extensions are still lost!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a>paths</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky-folder/Data
demo/spooky-folder/Data/ghost-viz.R
demo/spooky-folder/Data/Pumpkin-Stats.CSV
demo/spooky-folder/Data/skeletonReport.doc
demo/spooky-folder/Data/skeletonReport.qmd
demo/spooky-folder/Data/vampireBATS.txt
demo/spooky-folder/Data/WITCH_list.docx
demo/spooky-folder/images
demo/spooky-folder/images/witchCauldron.png
demo/spooky-folder/Misc Files
demo/spooky-folder/Misc Files/BlackCats.png
demo/spooky-folder/misc-files
demo/spooky-folder/R
demo/spooky-folder/R/ghost data (final) v2.CSV
demo/spooky-folder/R/haunted_house.xlsx
demo/spooky-folder/R/untitled 10 31.R
demo/spooky-folder/REPORTS
demo/spooky-folder/REPORTS/ghost data (final).CSV
demo/spooky-folder/REPORTS/ghost data.csv</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a>paths_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder/data
demo/spooky_folder/data/ghost_viz_r
demo/spooky_folder/data/pumpkin_stats_csv
demo/spooky_folder/data/skeleton_report_doc
demo/spooky_folder/data/skeleton_report_qmd
demo/spooky_folder/data/vampire_bats_txt
demo/spooky_folder/data/witch_list_docx
demo/spooky_folder/images
demo/spooky_folder/images/witch_cauldron_png
demo/spooky_folder/misc_files
demo/spooky_folder/misc_files/black_cats_png
demo/spooky_folder/misc_files
demo/spooky_folder/r
demo/spooky_folder/r/ghost_data_final_v2_csv
demo/spooky_folder/r/haunted_house_xlsx
demo/spooky_folder/r/untitled_10_31_r
demo/spooky_folder/reports
demo/spooky_folder/reports/ghost_data_final_csv
demo/spooky_folder/reports/ghost_data_csv</code></pre>
</div>
</div>
</div></div>
</section>
<section id="fs-meets-stringr" class="slide level2">
<h2>{fs} meets {stringr}</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a>paths_almost_clean <span class="ot">&lt;-</span> paths_clean</span>
<span id="cb52-2"><a href=""></a></span>
<span id="cb52-3"><a href=""></a><span class="co"># Get extensions</span></span>
<span id="cb52-4"><a href=""></a>exts <span class="ot">&lt;-</span> <span class="fu">path_ext</span>(paths) <span class="sc">|&gt;</span> </span>
<span id="cb52-5"><a href=""></a>  <span class="co"># Remove blanks</span></span>
<span id="cb52-6"><a href=""></a>  stringr<span class="sc">::</span><span class="fu">str_subset</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">S"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb52-7"><a href=""></a>  <span class="co"># Remove duplicates</span></span>
<span id="cb52-8"><a href=""></a>  stringr<span class="sc">::</span><span class="fu">str_unique</span>() <span class="sc">|&gt;</span> </span>
<span id="cb52-9"><a href=""></a>  <span class="co"># Make lowercase</span></span>
<span id="cb52-10"><a href=""></a>  stringr<span class="sc">::</span><span class="fu">str_to_lower</span>()</span>
<span id="cb52-11"><a href=""></a></span>
<span id="cb52-12"><a href=""></a><span class="co"># Make dynamic regex pattern including extensions</span></span>
<span id="cb52-13"><a href=""></a>pattern <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"_(?=("</span>, <span class="fu">paste</span>(exts, <span class="at">collapse =</span> <span class="st">"|"</span>), <span class="st">")$)"</span>)</span>
<span id="cb52-14"><a href=""></a></span>
<span id="cb52-15"><a href=""></a><span class="co"># Replace underscore before ext with period</span></span>
<span id="cb52-16"><a href=""></a>paths_clean <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(paths_almost_clean, pattern, <span class="st">"."</span>) <span class="sc">|&gt;</span> </span>
<span id="cb52-17"><a href=""></a>  <span class="co"># Make fs_path again</span></span>
<span id="cb52-18"><a href=""></a>  <span class="fu">path</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="always-check-files-before-renaming-2" class="slide level2">
<h2>Always check files before renaming!</h2>
<p>Yay! Let’s just fix the R folder and extensions.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href=""></a>paths_almost_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder/data
demo/spooky_folder/data/ghost_viz_r
demo/spooky_folder/data/pumpkin_stats_csv
demo/spooky_folder/data/skeleton_report_doc
demo/spooky_folder/data/skeleton_report_qmd
demo/spooky_folder/data/vampire_bats_txt
demo/spooky_folder/data/witch_list_docx
demo/spooky_folder/images
demo/spooky_folder/images/witch_cauldron_png
demo/spooky_folder/misc_files
demo/spooky_folder/misc_files/black_cats_png
demo/spooky_folder/misc_files
demo/spooky_folder/r
demo/spooky_folder/r/ghost_data_final_v2_csv
demo/spooky_folder/r/haunted_house_xlsx
demo/spooky_folder/r/untitled_10_31_r
demo/spooky_folder/reports
demo/spooky_folder/reports/ghost_data_final_csv
demo/spooky_folder/reports/ghost_data_csv</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a>paths_clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder/data
demo/spooky_folder/data/ghost_viz.r
demo/spooky_folder/data/pumpkin_stats.csv
demo/spooky_folder/data/skeleton_report.doc
demo/spooky_folder/data/skeleton_report.qmd
demo/spooky_folder/data/vampire_bats.txt
demo/spooky_folder/data/witch_list.docx
demo/spooky_folder/images
demo/spooky_folder/images/witch_cauldron.png
demo/spooky_folder/misc_files
demo/spooky_folder/misc_files/black_cats.png
demo/spooky_folder/misc_files
demo/spooky_folder/r
demo/spooky_folder/r/ghost_data_final_v2.csv
demo/spooky_folder/r/haunted_house.xlsx
demo/spooky_folder/r/untitled_10_31.r
demo/spooky_folder/reports
demo/spooky_folder/reports/ghost_data_final.csv
demo/spooky_folder/reports/ghost_data.csv</code></pre>
</div>
</div>
</div></div>
</section>
<section id="make-r-uppercase-again" class="slide level2">
<h2>Make R uppercase again</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href=""></a>paths_clean <span class="ot">&lt;-</span> paths_clean <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a href=""></a>  <span class="co"># Capitalize R folder name</span></span>
<span id="cb57-3"><a href=""></a>  stringr<span class="sc">::</span><span class="fu">str_replace</span>(<span class="st">"/r(?=/|$)"</span>, <span class="st">"/R"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb57-4"><a href=""></a>  <span class="co"># Capitalize R extension</span></span>
<span id="cb57-5"><a href=""></a>  stringr<span class="sc">::</span><span class="fu">str_replace</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.r"</span>, <span class="st">".R"</span>)</span>
<span id="cb57-6"><a href=""></a></span>
<span id="cb57-7"><a href=""></a><span class="co"># Show the updated files containing R</span></span>
<span id="cb57-8"><a href=""></a>paths_clean <span class="sc">|&gt;</span> </span>
<span id="cb57-9"><a href=""></a>  stringr<span class="sc">::</span><span class="fu">str_subset</span>(<span class="st">"R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "demo/spooky_folder/data/ghost_viz.R"         
[2] "demo/spooky_folder/R"                        
[3] "demo/spooky_folder/R/ghost_data_final_v2.csv"
[4] "demo/spooky_folder/R/haunted_house.xlsx"     
[5] "demo/spooky_folder/R/untitled_10_31.R"       </code></pre>
</div>
</div>
</section>
<section id="complete-the-renaming" class="slide level2">
<h2>Complete the renaming</h2>
<p>But wait… our new folders don’t exist yet!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href=""></a><span class="fu">file_move</span>(<span class="at">path =</span> paths, <span class="at">new_path =</span> paths_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: Arguments must have consistent lengths, only values of length one are recycled.</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>{fs} gotcha! <code>file_move()</code> and <code>file_copy()</code> don’t automatically create parent folders!</p>
</div>
</div>
</div>
</div>
</section>
<section id="create-parent-folders-first" class="slide level2">
<h2>Create parent folders first</h2>
<p><strong>Get the parent folders</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href=""></a>parents <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">path_dir</span>(paths_clean))</span>
<span id="cb61-2"><a href=""></a>parents</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "demo/spooky_folder"            "demo/spooky_folder/data"      
[3] "demo/spooky_folder/images"     "demo/spooky_folder/misc_files"
[5] "demo/spooky_folder/R"          "demo/spooky_folder/reports"   </code></pre>
</div>
</div>
<div class="fragment">
<p><strong>Create the parent folders</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href=""></a><span class="fu">dir_create</span>(parents)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="complete-the-renaming-1" class="slide level2">
<h2>Complete the renaming</h2>
<p><strong>Filter out folders</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href=""></a>paths <span class="ot">&lt;-</span> <span class="fu">subset</span>(paths, <span class="sc">!</span><span class="fu">is_dir</span>(paths))</span>
<span id="cb64-2"><a href=""></a>paths_clean <span class="ot">&lt;-</span> <span class="fu">subset</span>(paths_clean, <span class="sc">!</span><span class="fu">is_dir</span>(paths_clean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><strong>Rename files with <code>file_move()</code></strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href=""></a><span class="fu">file_move</span>(paths, paths_clean)</span>
<span id="cb65-2"><a href=""></a></span>
<span id="cb65-3"><a href=""></a><span class="co"># Optionally, delete the old spooky-folder</span></span>
<span id="cb65-4"><a href=""></a><span class="co"># dir_delete("demo/spooky-folder")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="see-our-pretty-cleaned-folder" class="slide level2">
<h2>See our pretty, cleaned folder</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/spooky_folder"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder
├── data
│   ├── ghost_data.csv
│   ├── ghost_data_final.csv
│   ├── ghost_data_final_v2.csv
│   ├── ghost_viz.R
│   ├── haunted_house.xlsx
│   ├── pumpkin_stats.csv
│   ├── skeleton_report.doc
│   ├── skeleton_report.qmd
│   ├── vampire_bats.txt
│   └── witch_list.docx
├── images
│   ├── black_cats.png
│   └── witch_cauldron.png
├── misc_files
│   ├── black_cats.png
│   └── vampire_bats.txt
├── R
│   ├── ghost_data_final_v2.csv
│   ├── ghost_viz.R
│   ├── haunted_house.xlsx
│   └── untitled_10_31.R
└── reports
    ├── ghost_data.csv
    ├── ghost_data_final.csv
    ├── skeleton_report.doc
    ├── skeleton_report.qmd
    └── witch_list.docx</code></pre>
</div>
</div>
</section>
<section id="wait-were-not-done-yet" class="slide level2">
<h2>Wait… we’re not done yet!</h2>
<p>We have nice, consistent names… but the organization is still very wrong!</p>
<p><strong>Use globs to get files based on extension</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href=""></a>data <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky_folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.csv|*.xlsx"</span>)</span>
<span id="cb68-2"><a href=""></a>images <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky_folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.png"</span>)</span>
<span id="cb68-3"><a href=""></a>misc_files <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky_folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.txt"</span>)</span>
<span id="cb68-4"><a href=""></a>r <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky_folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.R"</span>)</span>
<span id="cb68-5"><a href=""></a>reports <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky_folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.doc|*.docx|*.qmd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p><strong>Move files into appropriate folders</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href=""></a><span class="fu">file_move</span>(data, <span class="st">"demo/spooky_folder/data"</span>)</span>
<span id="cb69-2"><a href=""></a><span class="fu">file_move</span>(images, <span class="st">"demo/spooky_folder/images"</span>)</span>
<span id="cb69-3"><a href=""></a><span class="fu">file_move</span>(misc_files, <span class="st">"demo/spooky_folder/misc_files"</span>)</span>
<span id="cb69-4"><a href=""></a><span class="fu">file_move</span>(r, <span class="st">"demo/spooky_folder/R"</span>)</span>
<span id="cb69-5"><a href=""></a><span class="fu">file_move</span>(reports, <span class="st">"demo/spooky_folder/reports"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>What we started with</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href=""></a><span class="fu">source</span>(<span class="st">"demo/generate-spooky-folder.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky-folder
├── Data
│   ├── ghost-viz.R
│   ├── Pumpkin-Stats.CSV
│   ├── skeletonReport.doc
│   ├── skeletonReport.qmd
│   ├── vampireBATS.txt
│   └── WITCH_list.docx
├── images
│   └── witchCauldron.png
├── Misc Files
│   └── BlackCats.png
├── misc-files
├── R
│   ├── ghost data (final) v2.CSV
│   ├── haunted_house.xlsx
│   └── untitled 10 31.R
└── REPORTS
    ├── ghost data (final).CSV
    └── ghost data.csv</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Our cleaned folder</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href=""></a><span class="fu">dir_tree</span>(<span class="st">"demo/spooky_folder"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder
├── data
│   ├── ghost_data.csv
│   ├── ghost_data_final.csv
│   ├── ghost_data_final_v2.csv
│   ├── haunted_house.xlsx
│   └── pumpkin_stats.csv
├── images
│   ├── black_cats.png
│   └── witch_cauldron.png
├── misc_files
│   └── vampire_bats.txt
├── R
│   ├── ghost_viz.R
│   └── untitled_10_31.R
└── reports
    ├── skeleton_report.doc
    ├── skeleton_report.qmd
    └── witch_list.docx</code></pre>
</div>
</div>
</div></div>
</section>
<section id="cleaning-steps" class="slide level2">
<h2>Cleaning steps</h2>
<ol type="1">
<li class="fragment">Review folder with <code>dir_tree()</code> to inspect structure and naming inconsistencies</li>
<li class="fragment">Plan new conventions (e.g., snake_case)</li>
<li class="fragment">Generate new names with {janitor} and/or {stringr}</li>
<li class="fragment">⚠️<strong>Review first before renaming!</strong>⚠️</li>
<li class="fragment">Create new parent folders with <code>dir_create()</code></li>
<li class="fragment">Filter out folders from old and new path vectors</li>
<li class="fragment">Move files with <code>file_move()</code></li>
<li class="fragment">Review again with <code>dir_tree()</code></li>
<li class="fragment">Final manual edits (e.g., “untitled_10_31.R”)</li>
</ol>
</section></section>
<section>
<section id="use-functions-to-repeat-this-process" class="title-slide slide level1 section center">
<h1>Use functions to repeat this process</h1>

</section>
<section id="clean-paths-function" class="slide level2">
<h2>Clean paths function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href=""></a>clean_paths <span class="ot">&lt;-</span> <span class="cf">function</span>(folder, <span class="at">recurse =</span> <span class="cn">TRUE</span>) {</span>
<span id="cb74-2"><a href=""></a>  <span class="co"># Split paths into parts</span></span>
<span id="cb74-3"><a href=""></a>  paths <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(folder, <span class="at">recurse =</span> recurse)</span>
<span id="cb74-4"><a href=""></a>  parts <span class="ot">&lt;-</span> <span class="fu">path_split</span>(paths)</span>
<span id="cb74-5"><a href=""></a></span>
<span id="cb74-6"><a href=""></a>  <span class="co"># Clean to snake_case</span></span>
<span id="cb74-7"><a href=""></a>  parts_clean <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map</span>(</span>
<span id="cb74-8"><a href=""></a>    parts,</span>
<span id="cb74-9"><a href=""></a>    \(part) janitor<span class="sc">::</span><span class="fu">make_clean_names</span>(part, <span class="at">case =</span> <span class="st">"snake"</span>)</span>
<span id="cb74-10"><a href=""></a>  )</span>
<span id="cb74-11"><a href=""></a></span>
<span id="cb74-12"><a href=""></a>  <span class="co"># Reconstruct paths</span></span>
<span id="cb74-13"><a href=""></a>  paths_clean <span class="ot">&lt;-</span> <span class="fu">path_join</span>(parts_clean)</span>
<span id="cb74-14"><a href=""></a></span>
<span id="cb74-15"><a href=""></a>  <span class="co"># Get extensions</span></span>
<span id="cb74-16"><a href=""></a>  exts <span class="ot">&lt;-</span> <span class="fu">path_ext</span>(paths) <span class="sc">|&gt;</span></span>
<span id="cb74-17"><a href=""></a>    <span class="co"># Remove blanks</span></span>
<span id="cb74-18"><a href=""></a>    stringr<span class="sc">::</span><span class="fu">str_subset</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">S"</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-19"><a href=""></a>    <span class="co"># Remove duplicates</span></span>
<span id="cb74-20"><a href=""></a>    stringr<span class="sc">::</span><span class="fu">str_unique</span>() <span class="sc">|&gt;</span></span>
<span id="cb74-21"><a href=""></a>    <span class="co"># Make lowercase</span></span>
<span id="cb74-22"><a href=""></a>    stringr<span class="sc">::</span><span class="fu">str_to_lower</span>()</span>
<span id="cb74-23"><a href=""></a></span>
<span id="cb74-24"><a href=""></a>  <span class="co"># Make dynamic regex pattern including extensions</span></span>
<span id="cb74-25"><a href=""></a>  pattern <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"_(?=("</span>, <span class="fu">paste</span>(exts, <span class="at">collapse =</span> <span class="st">"|"</span>), <span class="st">")$)"</span>)</span>
<span id="cb74-26"><a href=""></a></span>
<span id="cb74-27"><a href=""></a>  <span class="co"># Replace underscore before ext with period and make R uppercase</span></span>
<span id="cb74-28"><a href=""></a>  paths_clean <span class="ot">&lt;-</span> paths_clean <span class="sc">|&gt;</span> </span>
<span id="cb74-29"><a href=""></a>    stringr<span class="sc">::</span><span class="fu">str_replace</span>(pattern, <span class="st">"."</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-30"><a href=""></a>    <span class="co"># Capitalize R folder name</span></span>
<span id="cb74-31"><a href=""></a>    stringr<span class="sc">::</span><span class="fu">str_replace</span>(<span class="st">"/r(?=/|$)"</span>, <span class="st">"/R"</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-32"><a href=""></a>    <span class="co"># Capitalize R extension</span></span>
<span id="cb74-33"><a href=""></a>    stringr<span class="sc">::</span><span class="fu">str_replace</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.r"</span>, <span class="st">".R"</span>) <span class="sc">|&gt;</span></span>
<span id="cb74-34"><a href=""></a>    <span class="co"># Make fs_path again</span></span>
<span id="cb74-35"><a href=""></a>    <span class="fu">path</span>()</span>
<span id="cb74-36"><a href=""></a></span>
<span id="cb74-37"><a href=""></a>  <span class="fu">return</span>(paths_clean)</span>
<span id="cb74-38"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="clean_paths-results" class="slide level2">
<h2><code>clean_paths()</code> results</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href=""></a><span class="co"># Start fresh</span></span>
<span id="cb75-2"><a href=""></a><span class="fu">source</span>(<span class="st">"demo/generate-spooky-folder.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky-folder
├── Data
│   ├── ghost-viz.R
│   ├── Pumpkin-Stats.CSV
│   ├── skeletonReport.doc
│   ├── skeletonReport.qmd
│   ├── vampireBATS.txt
│   └── WITCH_list.docx
├── images
│   └── witchCauldron.png
├── Misc Files
│   └── BlackCats.png
├── misc-files
├── R
│   ├── ghost data (final) v2.CSV
│   ├── haunted_house.xlsx
│   └── untitled 10 31.R
└── REPORTS
    ├── ghost data (final).CSV
    └── ghost data.csv</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href=""></a>paths <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky-folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb77-2"><a href=""></a></span>
<span id="cb77-3"><a href=""></a><span class="co"># Run function</span></span>
<span id="cb77-4"><a href=""></a>paths_clean <span class="ot">&lt;-</span> <span class="fu">clean_paths</span>(<span class="st">"demo/spooky-folder"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="rename-files-function" class="slide level2">
<h2>Rename files function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href=""></a>rename_files <span class="ot">&lt;-</span> <span class="cf">function</span>(old_paths, new_paths) {</span>
<span id="cb78-2"><a href=""></a>  <span class="co"># Get parent folders</span></span>
<span id="cb78-3"><a href=""></a>  parents <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">path_dir</span>(new_paths))</span>
<span id="cb78-4"><a href=""></a>  </span>
<span id="cb78-5"><a href=""></a>  <span class="co"># Create parent folders</span></span>
<span id="cb78-6"><a href=""></a>  <span class="fu">dir_create</span>(parents)</span>
<span id="cb78-7"><a href=""></a>  </span>
<span id="cb78-8"><a href=""></a>  <span class="co"># Filter out folders from files</span></span>
<span id="cb78-9"><a href=""></a>  old_paths <span class="ot">&lt;-</span> <span class="fu">subset</span>(old_paths, <span class="sc">!</span><span class="fu">is_dir</span>(old_paths))</span>
<span id="cb78-10"><a href=""></a>  new_paths <span class="ot">&lt;-</span> <span class="fu">subset</span>(new_paths, <span class="sc">!</span><span class="fu">is_dir</span>(new_paths))</span>
<span id="cb78-11"><a href=""></a></span>
<span id="cb78-12"><a href=""></a>    <span class="co"># Rename files</span></span>
<span id="cb78-13"><a href=""></a>  <span class="fu">file_move</span>(old_paths, new_paths)</span>
<span id="cb78-14"><a href=""></a>  </span>
<span id="cb78-15"><a href=""></a>  <span class="co"># See results</span></span>
<span id="cb78-16"><a href=""></a>  <span class="fu">dir_tree</span>(<span class="fu">path_common</span>(new_paths))</span>
<span id="cb78-17"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="rename_files-results" class="slide level2">
<h2><code>rename_files()</code> results</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href=""></a><span class="fu">rename_files</span>(paths, paths_clean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder
├── data
│   ├── ghost_data.csv
│   ├── ghost_data_final.csv
│   ├── ghost_data_final_v2.csv
│   ├── ghost_viz.R
│   ├── haunted_house.xlsx
│   ├── pumpkin_stats.csv
│   ├── skeleton_report.doc
│   ├── skeleton_report.qmd
│   ├── vampire_bats.txt
│   └── witch_list.docx
├── images
│   ├── black_cats.png
│   └── witch_cauldron.png
├── misc_files
│   ├── black_cats.png
│   └── vampire_bats.txt
├── R
│   ├── ghost_data_final_v2.csv
│   ├── ghost_viz.R
│   ├── haunted_house.xlsx
│   └── untitled_10_31.R
└── reports
    ├── ghost_data.csv
    ├── ghost_data_final.csv
    ├── skeleton_report.doc
    ├── skeleton_report.qmd
    └── witch_list.docx</code></pre>
</div>
</div>
</section>
<section id="organize-files-function" class="slide level2">
<h2>Organize files function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href=""></a>organize_files <span class="ot">&lt;-</span> <span class="cf">function</span>(folder) {</span>
<span id="cb81-2"><a href=""></a>  <span class="co"># List subdirectories and extensions</span></span>
<span id="cb81-3"><a href=""></a>  data <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(folder, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.csv|*.xlsx"</span>)</span>
<span id="cb81-4"><a href=""></a>  images <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(folder, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.png"</span>)</span>
<span id="cb81-5"><a href=""></a>  misc_files <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(folder, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.txt"</span>)</span>
<span id="cb81-6"><a href=""></a>  r <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(folder, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.R"</span>)</span>
<span id="cb81-7"><a href=""></a>  reports <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(folder, <span class="at">recurse =</span> <span class="cn">TRUE</span>, <span class="at">glob =</span> <span class="st">"*.doc|*.docx|*.qmd"</span>)</span>
<span id="cb81-8"><a href=""></a></span>
<span id="cb81-9"><a href=""></a>  <span class="co"># Move files</span></span>
<span id="cb81-10"><a href=""></a>  <span class="fu">file_move</span>(data, <span class="fu">path</span>(stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"{folder}/data"</span>)))</span>
<span id="cb81-11"><a href=""></a>  <span class="fu">file_move</span>(images, <span class="fu">path</span>(stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"{folder}/images"</span>)))</span>
<span id="cb81-12"><a href=""></a>  <span class="fu">file_move</span>(misc_files, <span class="fu">path</span>(stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"{folder}/misc_files"</span>)))</span>
<span id="cb81-13"><a href=""></a>  <span class="fu">file_move</span>(r, <span class="fu">path</span>(stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"{folder}/R"</span>)))</span>
<span id="cb81-14"><a href=""></a>  <span class="fu">file_move</span>(reports, <span class="fu">path</span>(stringr<span class="sc">::</span><span class="fu">str_glue</span>(<span class="st">"{folder}/reports"</span>)))</span>
<span id="cb81-15"><a href=""></a></span>
<span id="cb81-16"><a href=""></a>  <span class="co"># See results</span></span>
<span id="cb81-17"><a href=""></a>  <span class="fu">dir_tree</span>(folder)</span>
<span id="cb81-18"><a href=""></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="organize_files-results" class="slide level2">
<h2><code>organize_files()</code> results</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href=""></a><span class="fu">organize_files</span>(<span class="st">"demo/spooky_folder"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>demo/spooky_folder
├── data
│   ├── ghost_data.csv
│   ├── ghost_data_final.csv
│   ├── ghost_data_final_v2.csv
│   ├── haunted_house.xlsx
│   └── pumpkin_stats.csv
├── images
│   ├── black_cats.png
│   └── witch_cauldron.png
├── misc_files
│   └── vampire_bats.txt
├── R
│   ├── ghost_viz.R
│   └── untitled_10_31.R
└── reports
    ├── skeleton_report.doc
    ├── skeleton_report.qmd
    └── witch_list.docx</code></pre>
</div>
</div>
</section>
<section id="full-cleaning-function-workflow" class="slide level2">
<h2>Full cleaning function workflow</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href=""></a><span class="co"># Start fresh</span></span>
<span id="cb84-2"><a href=""></a><span class="fu">source</span>(<span class="st">"demo/generate-spooky-folder.R"</span>)</span>
<span id="cb84-3"><a href=""></a>paths <span class="ot">&lt;-</span> <span class="fu">dir_ls</span>(<span class="st">"demo/spooky-folder"</span>, <span class="at">recurse =</span> <span class="cn">TRUE</span>)</span>
<span id="cb84-4"><a href=""></a></span>
<span id="cb84-5"><a href=""></a><span class="co"># Run function</span></span>
<span id="cb84-6"><a href=""></a>paths_clean <span class="ot">&lt;-</span> <span class="fu">clean_paths</span>(<span class="st">"demo/spooky-folder"</span>)</span>
<span id="cb84-7"><a href=""></a>paths_clean</span>
<span id="cb84-8"><a href=""></a></span>
<span id="cb84-9"><a href=""></a><span class="co"># Review paths_clean before running the next functions!</span></span>
<span id="cb84-10"><a href=""></a><span class="fu">rename_files</span>(paths, paths_clean)</span>
<span id="cb84-11"><a href=""></a><span class="fu">organize_files</span>(<span class="st">"demo/spooky_folder"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="query-folder-and-file-information" class="title-slide slide level1 section center">
<h1>Query folder and file information</h1>

</section>
<section id="resources" class="slide level2" data-background-color="black" data-background-image="https://images.unsplash.com/photo-1570527976677-a6d99d170d5d?ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;q=80&amp;w=1170" data-background-opacity="0.3">
<h2>Resources</h2>
<div>
<div style="font-size:1.4em">
<ul>
<li>Guest blog post &amp; accompanying video tutorial for R for the Rest of Us <a href="https://rfortherestofus.com/2025/01/fs-file-management"><em>Automate file management in R with the {fs} package</em></a></li>
<li>Danielle Navarro’s <a href="https://blog.djnavarro.net/posts/2024-10-06_fs/"><em>For fs</em> blog post</a></li>
<li>Jenny Bryan’s <a href="https://github.com/jennybc/how-to-name-files"><em>How to Name Files Like a Normie</em> slides</a></li>
</ul>
</div>
</div>
</section>
<section id="thank-you" class="slide level2">
<h2>Thank you!</h2>
<div class="columns">
<div class="column" style="width:65%;">
<p>🏡 <strong>Home for slides</strong>:</p>
<p><a href="https://jadeyryan.quarto.pub/fs-rladies-sl/">jadeyryan.quarto.pub/fs-rladies-sl/</a></p>
<p>👩🏻‍💻 <strong>Source code</strong>:</p>
<p><a href="https://github.com/jadeynryan/fs-rladies-sl">github.com/jadeynryan/fs-rladies-sl</a></p>
<p>🎥 <strong>Recordings from previous workshops &amp; talks</strong>:<br>
<a href="https://github.com/jadeynryan/parameterized-quarto-workshop?tab=readme-ov-file#workshops">links in GitHub repo</a> or <a href="https://youtube.com/playlist?list=PLzjGoNexcyYaDUVCg4MQDtMXLl2F5HE3B&amp;si=-y0jQfCYyRAQjI1B">my YouTube playlist</a></p>
<p><img data-src="images/mts.jpg" style="border-radius:1em" alt="From left to right, Mai, Tai, and Skye. Three snowshoe cats cuddling in their warming beds." width="600"></p>
</div><div class="column" style="width:35%;">
<p><strong>Let’s connect!</strong></p>
<p><i class="fa-solid fa-link fa-xl" aria-label="link"></i> <a href="https://jadeyryan.com">jadeyryan.com</a></p>
<p><i class="fa-brands fa-bluesky fa-xl" aria-label="bluesky"></i> <a href="https://bsky.app/profile/jadeynryan.bsky.social">@jadeynryan</a></p>
<p><i class="fa-brands fa-mastodon fa-xl" aria-label="mastodon"></i> <a href="https://fosstodon.org/@jadeynryan">@jadeynryan</a></p>
<p><i class="fa-brands fa-linkedin fa-xl" aria-label="linkedin"></i> <a href="https://www.linkedin.com/in/jadey-ryan">linkedin.com/in/jadey-ryan</a></p>
<p><i class="fa-brands fa-github fa-xl" aria-label="github"></i> <a href="https://github.com/jadeynryan/">jadeynryan</a></p>
<p><i class="fa-brands fa-etsy fa-xl" aria-label="etsy"></i> <a href="https://thecodingcats.etsy.com/">thecodingcats.etsy.com</a></p>
</div></div>

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="images/witchy-jr-cat-fs.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://jadeyryan.quarto.pub/fs-rladies-sl/">jadeyryan.quarto.pub/fs-rladies-sl/</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-pointer/pointer.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'pointer': {"key":"q","color":"red","pointerSize":16,"alwaysVisible":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealPointer, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>